<h1>Map Page</h1>

<div id="map" style="width: 100%; height: 500px;"></div>

<!-- Include Leaflet JS directly -->
<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"/>

<script>
  var map = L.map('map').setView([<%= @latitude %>, <%= @longitude %>], 13);

  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: 'Map data &copy; OpenStreetMap contributors'
  }).addTo(map);

  L.marker([<%= @latitude %>, <%= @longitude %>]).addTo(map)
    .bindPopup("<%= current_user.first_name %>'s current location").openPopup();
</script>
